<form class="form-container" id="proposalForm" (ngSubmit)="submitProposal()" #proposalNgForm="ngForm">
    <h1>ุงูุชุฑุงุญ ูุดุฑูุน ุงูุชุฎุฑุฌ</h1>

    <!-- ูุนูููุงุช ุงูุทุงูุจ -->
    <div class="section">
        <h2>ูุนูููุงุช ุงูุทุงูุจ</h2>
        <div class="form-row">
            <div>
                <label for="student-name-1">ุงุณู ุงูุทุงูุจ</label>
                <!-- Use ngModel for data binding -->
                <input type="text" id="student-name-1" placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" [(ngModel)]="studentInfo.name1" name="studentName1" required>
                <input type="text" id="student-name-2" placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" [(ngModel)]="studentInfo.name2" name="studentName2">
                <input type="text" id="student-name-3" placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" [(ngModel)]="studentInfo.name3" name="studentName3">
                <input type="text" id="student-name-4" placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" [(ngModel)]="studentInfo.name4" name="studentName4">
                <br><br>
                <label for="department-1">ุงููุณู</label>
                <select id="department-1" [(ngModel)]="studentInfo.departmentId" name="department1" required (change)="validateDepartment()">
                    <option value="" disabled selected>ุงุฎุชุฑ ูุณูู</option>
                    <!-- Populate options dynamically if possible -->
                    <option value="75A36EE9-6EF6-44E7-A028-7EB53F1377AF">๐ป ูุณู ุนูู ุงูุญุงุณูุจ</option>
                    <option value="ANOTHER_GUID_FOR_IS">๐ ูุณู ูุธู ุงููุนูููุงุช</option> <!-- Use correct GUID -->
                </select>
                <div class="department-message" id="department-message" *ngIf="departmentMessage">{{ departmentMessage }}</div>
            </div>

            <div>
                <label for="student-id-1">ุฑูู ุงูุทุงูุจ</label>
                <input type="text" id="student-id-1" placeholder="ุฃุฏุฎู ุฑููู ุงูุฌุงูุนู" [(ngModel)]="studentInfo.id1" name="studentId1" required>
                <input type="text" id="student-id-2" placeholder="ุฃุฏุฎู ุฑููู ุงูุฌุงูุนู" [(ngModel)]="studentInfo.id2" name="studentId2">
                <input type="text" id="student-id-3" placeholder="ุฃุฏุฎู ุฑููู ุงูุฌุงูุนู" [(ngModel)]="studentInfo.id3" name="studentId3">
                <input type="text" id="student-id-4" placeholder="ุฃุฏุฎู ุฑููู ุงูุฌุงูุนู" [(ngModel)]="studentInfo.id4" name="studentId4">
                <br><br>
                <label for="department-2">ุงูุฃุณุชุงุฐ</label>
                <select id="department-2" [(ngModel)]="studentInfo.supervisorId" name="supervisorId" required>
                    <option value="" disabled selected>ุงุฎุชุฑ ุงูุฏูุชูุฑ</option>
                    <!-- Populate options dynamically if possible -->
                    <option value="bd899406-ea32-4cea-9185-e9d059d14e5d">ุฏ. ูุญูุฏ</option>
                    <option value="ANOTHER_GUID_FOR_AHMED">ุฏ. ุฃุญูุฏ</option> <!-- Use correct GUID -->
                    <option value="ANOTHER_GUID_FOR_AMRO">ุฏ. ุนูุฑู</option> <!-- Use correct GUID -->
                    <option value="ANOTHER_GUID_FOR_KHALED">ุฏ. ุฎุงูุฏ</option> <!-- Use correct GUID -->
                    <option value="ANOTHER_GUID_FOR_SAMIA">ุฏ. ุณุงููุฉ</option> <!-- Use correct GUID -->
                </select>
            </div>
        </div>
    </div>

    <!-- ุชูุงุตูู ุงููุดุฑูุน -->
    <div class="section">
        <h2>ุชูุงุตูู ุงููุดุฑูุน</h2>
        <label for="project-title">ุนููุงู ุงููุดุฑูุน</label>
        <input type="text" id="project-title" placeholder="ุฃุฏุฎู ุนููุงู ุงููุดุฑูุน" [(ngModel)]="projectDetails.title" name="projectTitle" required>
        <br><br>
        <label for="project-number">ุฑูู ุงููุดุฑูุน</label>
        <input type="text" id="project-number" placeholder="ุฃุฏุฎู ุฑูู ุงููุดุฑูุน" [(ngModel)]="projectDetails.number" name="projectNumber" required>
        <br><br>
        <label for="description">ูุตู ุงููุดุฑูุน</label>
        <textarea id="description" placeholder="ุตู ูุดุฑูุนู ุจุงูุชูุตูู..." [(ngModel)]="projectDetails.description" name="description" required maxlength="300"></textarea>
        <br><br>
        <label for="objectives">ุฃูุฏุงู ุงููุดุฑูุน</label>
        <textarea id="objectives" placeholder="ุณุฑุฏ ุงูุฃูุฏุงู ุงูุฑุฆูุณูุฉ ููุดุฑูุนู..." [(ngModel)]="projectDetails.objectives" name="objectives" required maxlength="300"></textarea>
    </div>

    <!-- ุงูุฌุฏูู ุงูุฒููู -->
    <div class="section">
        <h2>ุงูุฌุฏูู ุงูุฒููู</h2>
        <label for="timeline-text">ุงูุฌุฏูู ุงูุฒููู ุงูููุชุฑุญ (ูุต)</label>
        <textarea id="timeline-text" placeholder="ูุฏู ุงูุฌุฏูู ุงูุฒููู ููุดุฑูุนู (ูุซู ุงููุนุงูู ูุงูููุงุนูุฏ ุงูููุงุฆูุฉ)..." [(ngModel)]="timelineText" name="timelineText" required></textarea>
        <br><br>
        <h3>ุฅุถุงูุฉ ุงูููุงู ุฅูู ูุฎุทุท ุฌุงูุช</h3>
        <div class="gantt-form">
            <input type="text" id="taskName" placeholder="ุงุณู ุงููููุฉ" [(ngModel)]="newTask.name" name="newTaskName">
            <label for="startDate">ุชุงุฑูุฎ ุงูุจุฏุก:</label>
            <input type="date" id="startDate" [(ngModel)]="newTask.start" name="newTaskStart">
            <label for="endDate">ุชุงุฑูุฎ ุงูุงูุชูุงุก:</label>
            <input type="date" id="endDate" [(ngModel)]="newTask.end" name="newTaskEnd">
            <input type="text" id="taskDescription" placeholder="ูุตู ุงููููุฉ" [(ngModel)]="newTask.description" name="newTaskDescription">
            <button type="button" (click)="addTask()" [disabled]="!newTask.name || !newTask.start || !newTask.end">ุฅุถุงูุฉ ูููุฉ</button>
        </div>
        <!-- Gantt Chart Placeholder - Requires a library like D3, ngx-gantt, etc. -->
        <div class="gantt-chart-container">
            <h4>ูุฎุทุท ุฌุงูุช (ุชูุซูู ุจุณูุท)</h4>
            <div class="gantt-chart" id="gantt">
                <div *ngFor="let task of tasks; let i = index" 
                     class="task-bar" 
                     [style.left.%]="calculateTaskStartOffset(task)" 
                     [style.width.%]="calculateTaskWidth(task)" 
                     [style.top.px]="i * 40" 
                     [style.background-color]="getTaskColor(i)"
                     [attr.data-description]="task.description">
                    {{ task.name }}
                </div>
                <div *ngIf="tasks.length === 0" style="text-align: center; padding-top: 50px; color: #888;">ุฃุถู ููุงู ูุนุฑุถ ุงููุฎุทุท</div>
            </div>
        </div>
    </div>

    <!-- ุฒุฑ ุงูุฅุฑุณุงู -->
    <button type="submit" [disabled]="proposalNgForm.invalid">ุฅุฑุณุงู ุงูุงูุชุฑุงุญ</button>
</form>

